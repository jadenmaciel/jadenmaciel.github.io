{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": [
    "participantName",
    "email",
    "phone",
    "emergencyContact",
    "emergencyPhone",
    "classCourse",
    "classDateTime",
    "location",
    "assumptionOfRisk",
    "releaseIndemnity",
    "signatureName",
    "paymentAcknowledgment",
    "agreeToTerms"
  ],
  "properties": {
    "participantName": {
      "type": "string",
      "minLength": 1
    },
    "email": {
      "type": "string",
      "format": "email"
    },
    "phone": {
      "type": "string",
      "minLength": 10
    },
    "emergencyContact": {
      "type": "string",
      "minLength": 1
    },
    "emergencyPhone": {
      "type": "string",
      "minLength": 10
    },
    "classCourse": {
      "type": "string",
      "minLength": 1
    },
    "classDateTime": {
      "type": "string",
      "format": "date-time"
    },
    "location": {
      "type": "string",
      "minLength": 1
    },
    "assumptionOfRisk": {
      "type": "boolean",
      "const": true
    },
    "releaseIndemnity": {
      "type": "boolean",
      "const": true
    },
    "photoConsent": {
      "type": "boolean"
    },
    "isMinor": {
      "type": "boolean"
    },
    "guardianName": {
      "type": "string"
    },
    "guardianSignature": {
      "type": "string"
    },
    "signatureName": {
      "type": "string",
      "minLength": 1
    },
    "paymentAcknowledgment": {
      "type": "boolean",
      "const": true
    },
    "agreeToTerms": {
      "type": "boolean",
      "const": true
    }
  },
  "if": {
    "properties": {
      "isMinor": {
        "const": true
      }
    }
  },
  "then": {
    "required": ["guardianName", "guardianSignature"],
    "properties": {
      "guardianName": {
        "type": "string",
        "minLength": 1
      },
      "guardianSignature": {
        "type": "string",
        "minLength": 1
      }
    }
  }
}

